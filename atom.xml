<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Vợ Ba Con]]></title>
  <link href="http://v3k.net/atom.xml" rel="self"/>
  <link href="http://v3k.net/"/>
  <updated>2014-01-10T00:01:54+07:00</updated>
  <id>http://v3k.net/</id>
  <author>
    <name><![CDATA[Andy Truong]]></name>
    <email><![CDATA[v3knet@toila.net]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[PHP Heros]]></title>
    <link href="http://v3k.net/blog/2014/01/09/php-heros/"/>
    <updated>2014-01-09T22:48:54+07:00</updated>
    <id>http://v3k.net/blog/2014/01/09/php-heros</id>
    <content type="html"><![CDATA[<p>Tôi dùng chữ anh hùng ở đây không mang ý nghĩa gì đặc biệt, chỉ là những người
tôi cảm thấy ngưỡng mộ, những người thường xuyên chia sẻ những thứ tôi thích thú
và có thể học hỏi được. Đương nhiên, chỉ riêng ở lãnh vực PHP mà thôi, không liên
quan đến các quan điểm chính trị hay niềm tin :)</p>

<!-- more -->


<p>Danh sách này sẽ được cập nhật thường xuyên, nhiều người tôi chưa kịp nhớ để
giới thiệu ở đây.</p>

<h3>General</h3>

<h4><a href="http://blog.ircmaxell.com/">Anthony ircmaxwell Ferrara</a></h4>

<p>Hầu như bài viết nào trên blog của anh đều từ chất đến rất chất. Kỹ năng diễn đạt
của anh ấy rất ất tượng. Nhớ lại lúc tôi đi tìm hiểu về Dependency Inject, các
anh khác cũng làm slide, cũng giải thích tùm lùm, … tôi không rõ, đến bài giới
thiệu của ircmaxwell thì tôi hiểu sâu và nhanh.</p>

<p>Xem qua hoạt động của anh trên github, tôi càng thấy ngưỡng mộ anh hơn: PHPPHP,
Password…</p>

<h4>Others</h4>

<ul>
<li><a href="https://github.com/Seldaek">Jordi Boggiano</a> #composer #monolog #manymore</li>
<li><a href="https://github.com/stof">Christophe stof Coevoet</a> #symfony #behat #manymore</li>
</ul>


<h3>Symfony Project</h3>

<h4><a href="http://fabien.potencier.org/">Fabien Potencier</a></h4>

<p>Tôi còn trong bụng mẹ thì anh ấy đã code rất khủng rồi! Và anh ấy code càng ngày
càng dữ dội. Đúng là gừng càng già càng cay!</p>

<p>Tôi không thể hiểu nổi làm sao anh ấy có thể phát triển và bảo trì khối lượng
lớn các project đình đám đến như vậy nổi! Symfony, Silex, Twig,
Expression Language, Pimple, Sismo, Goutee, …</p>

<p>Anh ấy cũng nói rất nhiều ở các cuộc hội nghị, nhưng tôi không thích thú bằng
việc đọc code, đọc post, đọc document của anh ấy.</p>

<h3>Doctrine</h3>

<ul>
<li><a href="https://github.com/beberlei">Benjamin Eberlei</a> #doctrine</li>
<li><a href="https://github.com/jwage">Jonathan H. Wage</a> #doctrine</li>
<li><a href="http://ocramius.github.io/">Marco ocramius Pivetta</a> Tôi chỉ mới biết anh này
ngày hôm nay, các bài viết ở blog anh ta xem qua tiêu đề thì tôi thấy rất là
cuốn hút. Bookmark trang nhà anh ấy ở đây, tôi sẽ học hỏi thêm từ các bài viết của anh. #doctrine</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Motopress]]></title>
    <link href="http://v3k.net/blog/2014/01/09/motopress/"/>
    <updated>2014-01-09T21:56:27+07:00</updated>
    <id>http://v3k.net/blog/2014/01/09/motopress</id>
    <content type="html"><![CDATA[<p>Đang mần việc thì bạn Sang trong room Dev (trên Hipchat) quăng link giới thiệu
<a href="http://www.getmotopress.com/content-editor/">anh chàng này</a>. Ngó qua thấy video
chỉ tầm hơn 1 phút tí xíu, nên tôi ngó qua thử xem.</p>

<p>Wow! Tuyệt vời quá. UI rất rõ ràng, kéo thả, form cấu hình nhiều tuỳ chọn, …,
giúp người dùng rất dễ dàng setup các trang web sinh động với… Wordpress. Yeah,
buồn chỗ đó, hắn chỉ cho Wordpress mà thôi.</p>

<p>Sang giới thiệu kèm với mong muốn, có ai port cái tính năng này cho Drupal không…
Hỏi cũng như trả lời luôn rồi, làm gì có ai. Vì cái bản quyền sử dụng, nên ở
Drupal rất khó tìm ra cái gì hoàn chỉnh, vì người chỉ làm hoàn chỉnh ra sản phẩm
để bán mà thôi. Module hay có, API đẹp có, theme mạnh có, … nhưng cái gì đó hoàn
chỉnh như MotoPress thì không có ở Drupal được đâu.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Drupal 7.25]]></title>
    <link href="http://v3k.net/blog/2014/01/09/drupal-7-dot-25/"/>
    <updated>2014-01-09T21:45:34+07:00</updated>
    <id>http://v3k.net/blog/2014/01/09/drupal-7-dot-25</id>
    <content type="html"><![CDATA[<p><a href="https://drupal.org/drupal-7.25-release-notes">Release notes</a> còn nhiều mục khác
nữa, tôi không thấy hứng thú gì với mấy cái đó nên khỏi note.</p>

<!-- more -->


<blockquote><p>Added an optional feature to the Statistics module to allow node views to be
tracked by Ajax requests rather than during the server-side generation of the
page. This allows the node counter to work on sites that use external page
caches (string change and new administrative option: <a href="https://drupal.org/node/2164069">https://drupal.org/node/2164069</a>).</p></blockquote>

<p>Tính năng rất thú vị cho các website chịu tải cao nhưng vẫn sử dụng module
statistic #performance #statistics</p>

<blockquote><p>Added a meta tag to install.php to prevent it from being indexed by search
engines even when Drupal is installed in a subfolder (minor markup change).</p></blockquote>

<p>Nhớ có lần tôi truy cập vào domain nọ, bản Drupal của họ chỉ để đó, chưa có
install gì hết. Tôi cài giùm họ, cấu hình với SQlite database, kết quả là Drupal
chạy vèo vèo. Lúc đó, tui mà táy máy, bật module PHP lên, rồi chạy các script độc
độc thì không biết sẽ lụm được gì trên con server đó nữa… Tới nay thì lỗi này đã
được fix rồi. Hôm nay đọc thấy cái fix này, tôi thấy cũng hay hay #install #seo</p>

<blockquote><p>Performance improvement: Prevented block rehashing from writing blocks to the
database on every cache clear and cron run when the blocks have not changed.
This fix results in an extra &lsquo;saved&rsquo; key which is added and set to TRUE for
each block returned by _block_rehash() that actually is saved to the database
(data structure change).</p></blockquote>

<p>Bắt bệnh hay #performance #hash</p>

<blockquote><p>Added an optional &lsquo;skip on cron&rsquo; parameter to hook_cron_queue_info() to allow
queues to avoid being automatically processed on cron runs (API addition).</p></blockquote>

<p>Chừ thì tôi mới biết có hook này tồn tại ((= #hook #cron #api</p>

<blockquote><p>Made the File and Image modules more robust when saving entities that have
deleted files attached. The code in file_field_presave() will now remove the
record of the deleted file from the entity before saving (minor data structure
change).</p></blockquote>

<p>DB sạch hơn chút với patch này.</p>

<blockquote><p>Fixed broken tests on PHP 5.5.</p></blockquote>

<p>Có vẻ như Drupal 7 chạy rất ổn định trên PHP 5.5? Có thể, nhưng tôi chỉ e ngại
các module mở rộng! #php55 #stable #qa</p>

<blockquote><p>Changed the database API to allow inserts based on a SELECT * query to work
correctly.</p></blockquote>

<p>Tính năng hay nhưng rất ít khi tôi sử dụng, <code>INSERT INTO … SELECT …</code>, người ta
dùng nhiều và có bug, và bug đã fix #sql #db</p>

<blockquote><p>Changed the database schema of the {file_managed} table to allow Drupal to
manage files larger than 4 GB.</p></blockquote>

<p>Ghê! Dùng Drupal lưu trữ file 4GB luôn #db #schema</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bản Tin Web 2014 Tháng 01]]></title>
    <link href="http://v3k.net/blog/2014/01/09/ban-tin-web-2014-01/"/>
    <updated>2014-01-09T21:17:55+07:00</updated>
    <id>http://v3k.net/blog/2014/01/09/ban-tin-web-2014-01</id>
    <content type="html"><![CDATA[<p>Tổng hợp link cho 2014 tháng 01</p>

<h2>PHP</h2>

<ul>
<li><a href="https://github.com/php-fig/fig-standards/blob/master/proposed/psr-4-autoloader/psr-4-autoloader.md">PSR4</a> —
Chuẩn #4 cho cộng đồng PHP đã được chính thức công bố, Composer và AuraPHP đã
bắt đầu hỗ trợ.</li>
<li><a href="http://ocramius.github.io/blog/zf2-and-symfony-service-proxies-with-doctrine-proxies/">Service Locator</a> —
Tôi chưa gặp tình huống nào sử dụng quá nhiều dependency, hoặc dependency quá
nhiều lớp như anh. Đọc qua bài viết này của Macro rất thú vị, anh giới thiệu
trở ngại có thể gặp phải khi sử dụng DI, và cách giải quyết.</li>
</ul>


<h2>Drupal</h2>

<ul>
<li><a href="https://drupal.org/drupal-7.25">Drupal 7.25 released</a> #5star</li>
<li><a href="https://www.lullabot.com/blog/article/module-monday-role-delay">Module Monday: Role Delay</a></li>
<li><a href="http://bryanbraun.com/2014/01/01/theres-more-than-one-way-to-save-a-node">There&rsquo;s more than one way to save a node</a> #4star</li>
<li><a href="http://drupalize.me/blog/introduction-restful-web-services-drupal-8">An Introduction to RESTful Web Services in Drupal 8</a> #5star</li>
</ul>


<h2>Products</h2>

<ul>
<li><a href="http://www.getmotopress.com/content-editor/">MotoPress</a></li>
</ul>


<h2>Others</h2>

<h4><a href="https://github.com/blog/1672-introducing-github-traffic-analytics">Introducing GitHub Traffic Analytics</a> — github.com</h4>

<p>Tính năng được github bổ sung đầu năm 2004 này xem ra quá tuyệt vời! Tôi có thử
xem qua thống kê của một project mà tôi host trên đây, tôi xem được referring sites,
popular content, unique visitors, … #github #stats</p>

<h4><a href="http://3v4l.org/" title="online PHP shell, test in 100+ different PHP versions!">3v4l.org</a></h4>

<p>Web này quả là rất hữu ích cho các lập trình viên PHP ham thích tìm tòi sâu về
ngôn ngữ mình sử dụng. Trên 100 phiên bản khác nhau, làm sao test được khi
client/server của ta chỉ cài được vài phiên bản #php #webapp #playround</p>

<h3>Rake autocomplete</h3>

<p>Nếu bạn thường hay làm việc với các ứng dụng hỗ trợ Rake, có thể sử dụng script
xịn này để autocomplete bash command của mình. Hiệu suất công việc tăng đáng kể
đấy #ruby #rake #bash #autocomplete</p>

<h3>Self Training</h3>

<p>Văn phòng nơi tôi đang làm việc có chương trình là để mỗi người tự chọn chủ đề,
tự nghiên cứu, rồi tự lên lịch để trình bày. Thứ mỗi thứ hai, tư, sáu mỗi tuần,
anh em ở văn phòng đều có cơ hội ngồi học hỏi lẫn nhau. Theo tôi thấy chương
trình này khá thú vị… Tháng này, tôi ghi chú lại các điều mà tôi học được từ các
buổi thuyết trình của anh em.</p>

<h4><a href="http://net.tutsplus.com/tutorials/php/the-repository-design-pattern/">Repository Design Pattern</a> <a href="#repository-design-pattern" id="repository-design-pattern">¶</a></h4>

<p>Design pattern này rất hay, giúp cho business logic và gateway tách bạch rõ ràng,
giảm thiểu duplicate, viết testcase dễ dàng hơn. Phần trình bày của Tiến khá tốt,
tuy nhiên cách em trình bày ý tưởng qua các PHPUnit test case làm khá nhiều bạn
lúng túng.</p>

<h4><a href="https://www.mapbox.com/">Mapbox</a> <a href="#mapbox" id="mapbox">¶</a></h4>

<p>Lúc xưa khi Google Chrome vừa mới ra đời, tôi nói như mỉa mai, làm sao bằng được
Firefox… Tới bây giờ thì tôi không còn rờ gì tới Firefox nữa… làm việc, đọc báo,
lướt web tôi đều sử dụng Chrome cả (trừ ipad, tôi vẫn thích Safari hơn).</p>

<p>Giống như tôi lúc xưa đó, khi chú Sang trình bày Mapbox, ai ai cũng lôi Mapbox
ra mà so sánh với Google Mapps. So sánh tính năng, hiệu suất, … gì thì Google
Maps đều tỏ ra vượt trội so với Mapbox.</p>

<p>Nhưng nếu ai đã từng làm việc với Google Maps giải quyết các vẫn đề thực tế, quay
qua dùng Mapbox sẽ rõ, cái Developer Experience của Mapbox tốt hơn rất nhiều, chí
ít là với người ít làm Javascript như tôi. Ngoài ra không thể không kể tới tính
năng hosted service của Mapbox &ndash; nghĩa là nếu tôi có nhu cầu lưu các văn phòng
đại điện, các đại lý, các điểm ăn uống ưu thích, … tôi đều có thể sử dụng Rest API
của Mapbox lưu, xoá, sửa, truy vấn ngon lành. Tiện lắm cho các ứng dụng hiện đại
bây giờ (feature as service).</p>

<h4>Chủ đề khác</h4>

<p>Một số chủ đề khác, tôi hy vọng sẽ được học hỏi thêm trong tháng này</p>

<ul>
<li><a href="http://dcycleproject.org/blog/48/do-not-clone-database">http://dcycleproject.org/blog/48/do-not-clone-database</a></li>
<li><a href="http://www.garfieldtech.com/blog/beyond-abstract">http://www.garfieldtech.com/blog/beyond-abstract</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bootstrap Page Cache - Drupal 7]]></title>
    <link href="http://v3k.net/blog/2013/12/27/bootstrap-page-cache-drupal-7/"/>
    <updated>2013-12-27T16:10:17+07:00</updated>
    <id>http://v3k.net/blog/2013/12/27/bootstrap-page-cache-drupal-7</id>
    <content type="html"><![CDATA[<p>Hôm nay, tôi có đụng tới phần cache của cái bộ route trong Drupal 7, nên muốn đi
coi kỹ lại phần bootstrap của Drupal.</p>

<!-- more -->


<p>Bootstrap của Drupal 7 gồm có các bước sau, tui chỉ copy lại từ phần comment của
hàm drupal_bootstrap() thôi.</p>

<ul>
<li><strong>DRUPAL_BOOTSTRAP_CONFIGURATION</strong>: Initializes configuration.</li>
<li><strong>DRUPAL_BOOTSTRAP_PAGE_CACHE</strong>: Tries to serve a cached page.</li>
<li><strong>DRUPAL_BOOTSTRAP_DATABASE</strong>: Initializes the database layer.</li>
<li><strong>DRUPAL_BOOTSTRAP_VARIABLES</strong>: Initializes the variable system.</li>
<li><strong>DRUPAL_BOOTSTRAP_SESSION</strong>: Initializes session handling.</li>
<li><strong>DRUPAL_BOOTSTRAP_PAGE_HEADER</strong>: Sets up the page header.</li>
<li><strong>DRUPAL_BOOTSTRAP_LANGUAGE</strong>: Finds out the language of the page.</li>
<li><strong>DRUPAL_BOOTSTRAP_FULL</strong>: Fully loads Drupal. Validates and fixes input data.</li>
</ul>


<p>Mấy phần khác tui không quan tâm lắm, tui chỉ quan tâm tới cái bước
DRUPAL_BOOTSTRAP_PAGE_CACHE. Nghĩa là để cho Drupal delivery được nội dung
tới người dùng cuối mà không có đụng tới DB, tui cần phải làm gì. Tui coi tới
coi lui, thì tạm kết luận, cái luồng của nó như sau:</p>

<ul>
<li>_drupal_bootstrap_page_cache()</li>
<li>If variable_get(&lsquo;page_cache_without_database&rsquo;),

<ul>
<li>then $conf[&lsquo;cache&rsquo;] is true. There is no DB bootstrap here.</li>
<li>else, force drupal boots DRUPAL_BOOTSTRAP_DATABASE and DRUPAL_BOOTSTRAP_VARIABLES</li>
</ul>
</li>
<li>If !$conf[&lsquo;cache&rsquo;], no page cache, boot to next step.</li>
<li>If User IP is block, return 403, exit &mdash; drupal_is_denied() only query db if db
connection is available</li>
<li>If user has cookie, or the request is not cachable

<ul>
<li>Then, header has &lsquo;X-Drupal-Cache: MISS&rsquo;</li>
<li>Else, get cached content

<ul>
<li>Cache ID: $base_root . request_uri()</li>
<li>Cache Bin: cache_page</li>
<li>Cachable: Http Method = GET/HEAD, !drupal_is_cli()</li>
<li>Cached data must be array(), has key path, title, …</li>
<li>If $conf[&lsquo;page_cache_invoke_hooks&rsquo;] > invoke hook_boot</li>
<li>Delivery content &mdash; drupal_serve_page_from_cache($cache)</li>
<li>If $conf[&lsquo;page_cache_invoke_hooks&rsquo;] > invoke hook_exit</li>
</ul>
</li>
</ul>
</li>
</ul>


<p>Vậy thôi, hy vọng note này giúp ích gì đó cho người tìm kiếm trên Google.</p>

<p><strong>Vợ Ba Con</strong></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bản Tin Web 2013 Tháng 12]]></title>
    <link href="http://v3k.net/blog/2013/12/27/ban-tin-web-2013-12/"/>
    <updated>2013-12-27T08:51:09+07:00</updated>
    <id>http://v3k.net/blog/2013/12/27/ban-tin-web-2013-12</id>
    <content type="html"><![CDATA[<p>Link thì nhiều, tuỳ theo hứng, lúc thì tôi share chỗ này, lúc thì tôi lưu chỗ nọ.
Từ nay có blog rồi, tôi sẽ lưu ở đây luôn. Mỗi tháng, tôi sẽ lưu các link cùng một
trang.</p>

<!-- more -->


<h3>HTML, CSS</h3>

<ul>
<li><a href="http://blog.getbootstrap.com/2013/12/05/bootstrap-3-0-3-released/">Bootstrap 3.0.3 released</a></li>
</ul>


<h3>Javascript</h3>

<ul>
<li><a href="https://github.com/inikulin/parse5">parse5: An HTML5 Parser for Node.js</a> — A fast, full-featured HTML parser for Node, based on the WHATWG HTML5 specification.</li>
<li><a href="http://www.dynatable.com/">DYNATABLE &ndash; HTML5+JSON Interactive Table Plugin</a></li>
<li><a href="http://xem.github.io/?golfing">How many JavaScript code can we fit in 140 characters?</a></li>
</ul>


<h3>Mobile</h3>

<ul>
<li><a href="http://flippinawesome.org/2013/12/09/mobile-friendly-mapping-for-phonegap-apps/">Mobile-Friendly Mapping for PhoneGap Apps</a></li>
<li><a href="https://hacks.mozilla.org/2013/12/protecting-your-firefox-os-app-code/">Protecting your Firefox OS App code</a></li>
</ul>


<h3>PHP</h3>

<ul>
<li><a href="http://zephir-lang.com/">Zephir Language</a> Ngôn ngữ trung gian giúp lập trình viên PHP có thể viết PHP Extension không cần rành C #php #zephir</li>
<li><a href="http://www.hhvm.com/blog/2813/we-are-the-98-5-and-the-16">We are the 98.5% (and the 16%) — HHVM</a></li>
<li><a href="http://www.doctrine-project.org/blog/our-hhvm-roadmap.html">Kế hoạch hỗ trợ HHVM từ Doctrine projects #php #doctrine #hhvm #roadmap</a></li>
<li><a href="https://github.com/willdurand/Propilex">Propilex</a> , tên nghe lạ, nhưng là framework tập hợp các anh hào rất quen — Silex, Propel, Backbone, Stack, Hateoas, Negotiation, and so on… Services ready, rất thú vị #php #framework #silex #propel #backbone</li>
<li><a href="http://php.net/opcache">opcache đã được đưa vào PHP 5.5. Quên APC lần lần nhé anh em #php #php55 #opcache</a></li>
<li><a href="https://github.com/klaussilveira/gitlist">Ứng dụng viết bằng PHP giúp dọc git repos #php #app #git #reader</a></li>
<li><a href="http://speckyboy.com/2013/12/14/wordpress-3-8-released-week/">WordPress 3.8 Has Been Released</a></li>
</ul>


<h3>Drupal</h3>

<ul>
<li><a href="https://github.com/hechoendrupal/DrupalAppConsole">DrupalAppConsole</a> — The Symfony Console for Drupal</li>
<li><a href="http://cafuego.net/2013/04/26/add-images-drupal-your-mobile-device">Mánh nhỏ giúp image field lấy ảnh được từ camera #drupal #dev #mobile #tip</a></li>
<li><a href="https://www.facebook.com/laptrinhviendrupal/posts/726549914022039">Một số site nổi tiếng của VN sử dụng Drupal #drupal #sites</a></li>
<li>Như đã biết, APC thuần tuý đã không còn cần thiết ở PHP 5.5. Anh em nào còn sử dụng tính năng user cache của APC, có thể sử dụng <a href="http://pecl.php.net/package/APCu">extension APCu</a> #php #php55 #apc #apcu</li>
</ul>


<h3>Hacker</h3>

<ul>
<li><a href="https://github.com/joewalnes/websocketd">websocketd</a> Like inetd, but for WebSockets. Turn any application that uses STDIO/STDOUT into a WebSocket server.</li>
<li><a href="http://www.youtube.com/watch?v=MvKEomoiKBA">Native Code on the web: Portable Native Client</a></li>
<li><a href="https://github.com/xem/miniCodeEditor">miniCodeEditor</a> &ndash; Tiny, simple, handy! I have <a href="http://v3k.net/tools/html-playround/index.html">a copy here</a>.</li>
<li><a href="http://explainshell.com/">explainShell.com</a> ứng dụng online, đơn giản, nhưng giúp anh em ta dễ hiểu hơn các shell command không đơn giản #shell #online #app</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Con Trai 5 Tháng Tuổi]]></title>
    <link href="http://v3k.net/blog/2013/12/27/son/"/>
    <updated>2013-12-27T00:52:17+07:00</updated>
    <id>http://v3k.net/blog/2013/12/27/son</id>
    <content type="html"><![CDATA[<p>Con tui dễ thương lắm, đi đâu mệt mỏi, về nhà thấy cái mặt nó là tui vui liền hà.</p>

<p><img src="https://fbcdn-sphotos-d-a.akamaihd.net/hphotos-ak-ash3/1507833_10152194994247122_1571063971_n.jpg" title="Con trai tui nè" ></p>

<!-- more -->


<p>Nói thiệt là ở ngoài dòm thằng nhóc còn đã hơn trong hình gấp mấy lần luôn.</p>

<p><img src="https://fbcdn-sphotos-g-a.akamaihd.net/hphotos-ak-frc3/1490834_10151853886561732_1060717919_o.jpg"></p>

<p>Điều đặc biệt, thằng nhỏ cứ cười suốt thôi. Thương lắm &lt;3</p>

<p><strong>Vợ Ba Con</strong></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[QA Tools]]></title>
    <link href="http://v3k.net/blog/2013/12/26/qa-tools/"/>
    <updated>2013-12-26T23:43:07+07:00</updated>
    <id>http://v3k.net/blog/2013/12/26/qa-tools</id>
    <content type="html"><![CDATA[<p>Tui hay đi đọc các bài viết về làm web ở đây ở đó, và tui thường thấy người ta
nói rất nhiều về kiểm thử web. Lần lần thì tui cũng đi tìm hiểu, bắt đầu viết
test case, tìm hiểu Travis, SimpleTest, PHPUnit, CodeCeption, Mocking, …</p>

<p>Tới bây giờ, tui thấy việc test cho sản phẩm mình viết ra là thiệt sự cần thiết.
Nhiều khi tui sửa cái X, tui thêm cái Y, tui chẳng bao giờ nghĩ là cái Z nó hư,
nhưng test nó báo là Z như… tui lật đật đi sửa Z. Ở sản phẩm thiệt, không chỉ có
Z, mà còn có T, U, V, N, M, L, … không test là hỏng bét hết hà.</p>

<!-- more -->


<p>Đọc thêm, tui thấy người ta còn có cái chiêu test hay lắm, gọi là BDD, tui chẳng
cần hiểu sâu sắc nó là gì, tui coi sơ qua thì tui thấy, mấy cái test BDD rất là
dễ thương, dễ hiểu, tụi nó giống như cái specification của sản phẩm vậy đó. Ở
nhóm tui, tụi tui thống nhất với nhau là sẽ giao việc viết BDD test này cho QC
của tui mần. Tui tạ ơn Chúa tui, anh chàng QC ở team tui rất khá, anh ấy làm QC
mà code cũng ngầu lắm, anh ấy đang tìm hiểu sâu sắc thêm cái gọi là CodeCeption.</p>

<p>Ở PHP, khỏi nói thì ai cũng biết PHPUnit là bá đạo nhứt, tool này tên vậy mà lừa
tình lắm kìa, anh ấy là Unit mà tui xài tui viết function test cũng được, concept
cũng được ráo. Há há.</p>

<p>Đọc thêm đây đó nữa, tui thấy người ta còn đưa ra nhiều công cụ khác nữa cho việc
test. Tui bookmark lại đây để tui tham khảo, nếu có ai mò dzô được đây, tui hy
vọng cái bookmark này cũng giúp ích ít nhiều cho họ. Hà hà!</p>

<p>Ai có link nào hot hot liên quan tới cái dzụ này thì comment ở dưới dzới tui nhe.
Tui hứa sẽ điền tên lên bảng vàng luôn ((=</p>

<ol>
<li><a href="http://mark-rolich.github.io/RulersGuides.js/">http://mark-rolich.github.io/RulersGuides.js/</a></li>
<li><a href="http://pareview.sh/">http://pareview.sh/</a></li>
<li><a href="https://drupal.org/project/behat">https://drupal.org/project/behat</a></li>
<li><a href="http://codeception.com/">http://codeception.com/</a></li>
<li><a href="http://phantomjs.org/">http://phantomjs.org/</a></li>
<li><a href="https://github.com/Huddle/PhantomCSS">PhatnomCSS</a></li>
<li><a href="http://huddle.github.io/Resemble.js/">Image analysis and comparison</a></li>
<li><a href="https://prague2013.drupal.org/session/behat-contrib">Bài nói chuyện về Behat cho Drupal, dài gần 2h 30min, rất dài, nhưng rất đáng xem</a></li>
<li><a href="http://casperjs.org/">CasperJS</a></li>
<li> <a href="http://www.phase2technology.com/blog/behavorial-test-for-custom-entity-using-casperjs/">Behavorial Test For Custom Entity Using CasperJS</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[At Base Module]]></title>
    <link href="http://v3k.net/blog/2013/12/26/at-base-module/"/>
    <updated>2013-12-26T22:28:42+07:00</updated>
    <id>http://v3k.net/blog/2013/12/26/at-base-module</id>
    <content type="html"><![CDATA[<p><img class="right" src="https://drupal.org/files/project-images/godrop.png" title="Icon" ></p>

<p>Xin lỗi các bạn nhe, tui viết bài này bằng tiếng Anh để làm tài liệu cho anh em
trong nhóm làm việc của tui luôn.</p>

<p>Lúc tui viết trang này thì Drupal 8 đang phát triển. Tui không lầm thì phiên bản
alpha 7 vừa ra đời cách đây vài ngày.</p>

<!-- more -->


<p>Tui rất là thích thú theo dõi các nền tảng web. Tui thích rất nhiều, RoR, Sinatra,
Django, Symfony, Doctrine, … và đặc biệt là Drupal. Dầu là chưa có commit nào cho
Drupal 8, nhưng tui theo dõi Drupal hàng tuần, cứ rảnh là tui coi coi, người ta
bỏ gì ra, thêm gì vô, … phải nói là Drupal 8 thay đổi rất nhiều, ngẫm đi ngẫm
lại, tui phải nói là tui nể ông Dries lắm luôn. Ổng làm một phát, từ Drupal 7 qua
Drupal 8, dầu cái mặt tiền còn na ná, nhưng cái mặt hậu thì như thay da đổi thịt
hoàn toàn. Nhiều người thấy Drupal 8 thay đổi quá, chịu không nổi, họ rẽ Drupal
ra nhánh khác, giữ lại mặt hậu của Drupal 7, gọi nó là BackdropCMS.</p>

<p>He he, nói xíu nữa là lạc đề luôn. Tui nói là tui theo dõi và tui học Drupal 8
thường xuyên. Học thì phải hành… đằng này Drupal 8 phát triển mấy năm nay, mới chỉ
ra được alpha 7, làm gì có project thiệt mà tui hành. Tui có thử port vài module
qua D8 rồi, nhưng đa phần nhỏ, bự thì làm không nổi, hoặc không có giờ làm :D…</p>

<p>Đó, đó, sự tình là vậy đó. Muốn xài công nghệ mới mà không có thì tui lấy mấy kiến
thức tui học lóm được bên D8, tui viết lại thành cái module <em>AT Base</em> này nè.
Càng viết càng thấy mê, càng thấy thích thú… cái thú vọc code. Thôi thì dong dài
đã nhiều, mời quý bạn của tui coi phần giới thiệu của tui cho mô-đun này nhe.</p>

<p>Xin lỗi lần nữa, tui phải viết tiếng Anh, cho đồng nghiệp ở VN với lại non-VN coi
nữa (tiếng Anh của tui không tốt lắm, nên tui đây mới xin lỗi, ha ha).</p>

<p>Quý bạn nào đọc rồi muốn tìm hiểu thêm thì <a href="https://github.com/andytruong/at_base">thẳng tiến vào Github</a> luôn nhe.</p>

<p><strong>Vợ Ba Con</strong></p>

<div><script src='https://gist.github.com/8052716.js'></script>
<noscript><pre><code>----------
## 1. Some userful functions

### 1.1 at_id()

With PHP before 5.4, we have this issue

```php
new Thing()-&gt;doStuff();
```

Give us fatal error.

With at_id(), we can do that a bit nicer

```php
at_id(new Thing())-&gt;doStuff();
```

Yep, simple, we no longer need unset the object after simple usage.

### 1.2. at_modules()

There are ways for developers on Drupal 7 to collect the modules:

```php
module_implements(‘hook_name’);
ctools_plugin_api_info(‘module_name&#39;, $api, &#39;1.0&#39;, &#39;1.0&#39;);
```

Which require other modules to implements hooks, just good, but not too fast. `at_modules()` is way faster:

`at_modules(‘at_base’)` return modules those has at_base as dependency. No hook needed.

### 1.3. at_library()

Return path to library.

* `at_library(‘pimple’) `
    * sites/domain.com/libraries/pimple
    * sites/all/libraries/pimple
* `at_library(‘pimple’, ‘v1.0.6’)`
    * sites/domain.com/libraries/pimple/v1.0.6/
    * sites/all/libraries/pimple/v1.0.6/

## 2. PSR-4 Autoloader

PSR-4 is supported for loading classes of modules which depends on at_base.module
For examples:

`\Drupal\my_module\My_Class -&gt; /path/to/my_module/lib/My_Class.php`

## 3. Caching

### 3.1. at_cache()

In Drupal, caching is a common problem. To execute a logic, then cache it, we usally use this style of code:

```php
function your_data_provider($reset = FALSE) {
  $cache_id = &#39;…&#39;;
  $bin = &#39;bin&#39;;
  $expire = strtotime(&#39;+ 15 minutes&#39;);
  if (!$reset &amp;&amp; $cache = cache_get($cache_id, $bin)) {
    return $cache-&gt;data;
  }
  $data = your_logic();
  cache_set($data, $cache_id, $bin, $expire);
  return $data;
}
```

It just good, but at_cache() provide us a fancy style:

````php
function your_data_provider() {
  return your_logic();
}

$options = array(
    &#39;cache_id&#39; =&gt; &#39;…&#39;, 
    &#39;bin&#39; =&gt; &#39;cache&#39;, 
    &#39;ttl&#39; =&gt; strtotime(&#39;+ 30 minutes&#39;)
);
$data = at_cache($options, &#39;your_data_provider&#39;);
```

### 3.2 Cache Tagging

Cache is easy, but cache invalid is hard, that’s why Drupal 8 added cache-tag supporting. Good news, at_cache() also support cache tagging too:

```php
$options = array(
    &#39;cache_id&#39; =&gt; &#39;…&#39;, 
    &#39;bin&#39; =&gt; &#39;cache&#39;, 
    &#39;ttl&#39; =&gt; strtotime(&#39;+ 30 minutes&#39;),
    &#39;tags&#39; =&gt; array(&#39;tag_1&#39;, &#39;tag_2&#39;)
);
$data = at_cache($options, &#39;your_data_provider&#39;);
```

Then, cached content is flushed after calling of:

    at_cache_flush_by_tags(array(‘tag_1’));

### 3.3 Cache Warming

Cache content are tagged, if there are center to manage the cache flushing, that will be great. An other good news, at_base.module support this too.

If our custom module depends on at_base, an we have the file: %module_name/config/cache_warming.yml

```yaml
tags:
  entity_update: [tag_1]
```

And if our module is enabled, on any entity updated, content tagged with tag_1 will be flushed.

There are some tokens are supported: %entity_type, %entity_bundle,e %entity_id

## 4. Config

At Drupal 7, to store the configuration, developers do use `variable_get()`, `variable_set()`, `variable_delete()`. We have some problem with Drupal 7 variable system:

* at any function, run `print_r($GLOBAL[‘config’])`. Oh! All variables are loaded… not good at all.
* Some variables are very important, what if the variable is deleted on product site?
* Revision. Features +  strongarm can resolve this issue just well. But some importants variables, we never want any changes on them.
* How to configure the variables on IDE, text editor? Not very easy!

Drupal 8 has excellent config system. Lack of resource, I just provide a simple config, no dev/live/staging mode, no writing, just reading, … it’s at_config()

at_config() is not too powerful, but I think this is some kind of useful though. In many part of at_base code, we can find heavy using of at_config().

Yes, this is very simple. If we have this file:

```yaml
# %module_name/config/config.yml
foo: bar
```

Then, at_config($module_name)-&gt;get(‘foo’) returns bar.

Ah, we found the YAML file there,  how at_config() can read it? No worry, move to next section please.

## 5. AT Require Drush command

After enable at_base.module, we need run: drush at_require at_base, AT Require system will read ./at_base/config/require.yml, its content is

```yaml
projects:
  spyc:
    type: library
    download:
      type: git
      url: https://github.com/mustangostang/spyc.git
      branch: 0.5.1
  pimple:
    type: library
    download:
      type: git
      url: https://github.com/fabpot/Pimple.git
      revision: v1.1.0
  twig:
    type: library
    download:
      type: git
      url: https://github.com/fabpot/Twig.git
      branch: v1.14.2
```

On run, the drush command, which depends on drush make system, will download all external libraries.

With this tool, we can:

* Exclude libraries from git repository.
* Drupal admin take less time for download dependencies
* If website need download the library regularly, like MaxMind database, this small tool is very useful too.

## 6. YAML

In previous sections, we already see the YAML format — clean, easy for reading, fast for writing. It’s really cool, Drupal 8 used it for Config System. With at_base module, we support YAML reading with some magic

### 6.1 Cache

No worry about the speed, all yaml content are cached once it’s read.

### 6.2 Import

In large system, we need a lot of config, which make the YAML file is no longer easy reading. For example, routing:

```yaml
# %module_name/config/route.yml
routes:
  route_1:
    access: …
  route_2:
    access: …
  route_n:
    access: …
```

With import feature, we can make the config file a bit more readble

```yaml
imports:
  - { resource: routes.admin.yml }
  - { resource: routes.user.yml }
  - { resource: routes.content.yml }
```

## 7. Easy Routing

We may already know new routing system in Drupal 8. Routing feature in at_base is not that powerful, but there’s are some cool features, something similar to Route in D8.

### 7.1 Controller

Modules depend at_base can define routes like this:

```yaml
# %module_name/config/routes.yml
routes:
  atest_route/controller:
    title: Hello
    access arguments: [&#39;access content&#39;]
    controller: [
        &#39;\Drupal\atest_route\Controller\HelloController&#39;, 
        helloAction, 
        {name: &#39;Andy Truong&#39;}]
```

Yeah, OOP controller. Cool? But we have more…

### 7.2 Form

Define form using class. Examle: http://goo.gl/Fkq7lO

### 7.3 Template

```yaml
# %module_name/config/routes.yml
routes:
  atest_route/template:
    title: Magic template
    access arguments: [&#39;access content&#39;]
    template: &#39;@atest_route/templates/hello.html.twig&#39;
    variables:
      name: Andy Truong
```

No controller need, use hello.html.twig to reponse content to client directly. And… twig template is also supported too:

```yaml
# %module_name/config/routes.yml
routes:
  &#39;atest_route/fancy_template/%user&#39;:
    title: Fancy Template
    access arguments: [&#39;access content&#39;]
    template_string: &#39;Foo: {{ foo }}&lt;br /&gt;- User ID: {{ user.uid }}&#39;
    variables: { foo: &#39;bar&#39; }
```

### 7.4 Old style Drupal

And old style Drupal menu item is also suppoted:

```yaml
# %module_name/config/routes.yml
routes:
  atest_route/drupal:
    title: Hello
    title callback: t
    title arguments: []
    description: &#39;Description for the page&#39;
    page callback: atest_route_page_callback
    page arguments: [&#39;Andy Truong&#39;]
    access callback: user_access
    access arguments: [&#39;access content&#39;]
    theme callback: trim # function_to_detect_theme_name
    theme arguments: [seven]
    file: atest_route.pages.inc
    load arguments: []
    weight: 0
    menu_name: navigation
    expanded: TRUE
    context: MENU_CONTEXT_PAGE | MENU_CONTEXT_INLINE
    tab_parent: admin/people
    tab_root: admin/people
    position: left
    type: MENU_NORMAL_ITEM
```

### 7.5 Asset attachment

But the killer feature is asset attachment. With at_base, we can let the controller just handle the logic:

```yaml
# %module_name/config/routes.yml
routes:
  atest_route/with_assets:
    title: Route with attached assets
    access arguments: [&#39;access arguments&#39;]
    template_string: &#39;Simple string&#39;
    attached:
      css:
        - misc/vertical-tabs.css
      js:
        - misc/vertical-tabs.js
      library:
        - [&#39;system&#39;, &#39;jquery.bbq&#39;]
```

I hope you like it.

## 8. Easy Block

Block can be easy defined in Drupal 7 with hook_block_info() and hook_block_view() implementations. I wanted bring some cool features in Routing system to block. Here we go:

```yaml
# %module/config/blocks.yml
blocks:
  hi_s:
    info: &#39;Hello String&#39;
    subject: &#39;Hello String&#39;
    cache: DRUPAL_CACHE_PER_ROLE
    content: &#39;Hello Andy Truong&#39;
  hi_t:
    info: &#39;Hello template&#39;
    subject: &#39;Hello template&#39;
    cache: DRUPAL_CACHE_PER_PAGE
    content:
      template: &#39;@atest_block/templates/block/hello_template.html.twig&#39;
      variables: {name: &#39;Andy Truong&#39;}
  hi_ts:
    info: &#39;Hello Template String&#39;
    subject: &#39;Hello Template String&#39;
    content:
      template_string: &quot;Hello {{ name }}&quot;
      variables: {name: &#39;Andy Truong&#39;}
```

Easy for reading and using.

### 9. Service Container

Dependency Injection is a required in all good system recently. Based on Pimple of Fabio Potencier, we now have a simple Dependency Injection system in Drupal 7 too.

If we have:

```yaml
# atest_base/config/services.yml
services:
  atest_base.service_1:
    class: &#39;Drupal\atest_base\Service_1&#39;
  atest_base.service_2:
    class: &#39;Drupal\atest_base\Service_2&#39;
    arguments: [&#39;@atest_base.service_1&#39;]
  atest_base.service_3:
    class: &#39;Drupal\atest_base\Service_3&#39;
    factory_class: Drupal\atest_base\Service_3_Factory
    factory_method: getService
```

Then, services can be easy created:

```php
$service_3 = at_container(‘atest_base.service_3’);
```

## 10. Twig

I already metioned about Twig in previous sections. It’s a super powerfull Template engine, Drupal 8 used it. I can not wait to use it — added to at_base().

Some usefull Twig usage:

* Print a block: {{ ‘module_name:block_delta’ | drupalBlock }}
* Print a view : {{ view_name’ | drupalView }}
* Print an entity: {{ ‘user:1’ | drupalEntity }}
* Debug a varible: {{ node | kpr  }}

Define custom Twig filter is just easy:

```yaml
# at_base/config/twig_filters.yml
twig_filters:
  - [_filter_autop, _filter_autop]
```

### More…

There are  even more features, some more in issue queue. But before going so far, I think we need some feedbacks. Please download and try it https://github.com/andytruong/at_base

**Andy Truong**
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello World]]></title>
    <link href="http://v3k.net/blog/2013/12/26/hello-world/"/>
    <updated>2013-12-26T21:43:15+07:00</updated>
    <id>http://v3k.net/blog/2013/12/26/hello-world</id>
    <content type="html"><![CDATA[<p>Xin chào bạn, thật có duyên khi bạn ghé lại trang nhà đơn sơ của tui ^^</p>

<p>Tui ít nói, ít viết, mà tui viết thì tui thường viết về các chủ đề rất… chán.
Đây là một vài chủ đề mà tui quan tâm, nếu bạn có cùng sở thích thì bookmark tui
rồi quay lại đọc sau nhé:</p>

<ol>
<li>Tín lý Thánh Kinh</li>
<li>Các món về lập trình web PHP/Drupal/Javascript/…</li>
<li>Tin tức công nghệ</li>
<li>Hình ảnh vợ con (cái dzụ này tui hông hứa, đưa hình ảnh vợ con lên chốn công cộng tui thấy hơi kỳ kỳ…)</li>
</ol>


<p>Hy vọng là sắp tới tui sẽ có thời gian rủng rỉnh chút ít để chăm sóc cho cái blog
thứ N này của tui.</p>

<!-- more -->


<p>Ờ, nói tới cái blog, tui xin giới thiệu chút xíu, blog này tui sử dụng Octopress
đó. Nó cool lắm! Hắn được xây trên nền Jekyll, mà hỗ trợ nhiều thứ tui nói… nó
thiệt là đã luôn.</p>

<ol>
<li>Hỗ trợ markdown nè. Tui là tui ưng cái Markdown lắm nha.</li>
<li>Tui viết blog được luôn nè. Trang &ldquo;Hello World&rdquo; này là một thí dụ :P</li>
<li>Tui cũng có thể viết code trên đây ngon lành luôn. Hông tin coi ở <a href="http://octopress.org/docs/blogging/code/">đây</a> nè</li>
</ol>


<p>Nếu bạn mà có thích thú thì cứ guốc gồ mà tìm kiếm rồi vọc nhé.</p>

<p><strong>Vợ Ba Con</strong></p>

<h3>Tái bút</h3>

<p>Nhiều người biết tui sẽ hỏi, ê mẫy, mẫy chỉ có hai con sao mầy lấy
domain quái vậy!</p>

<p><strong>Tui:</strong> Xin lỗi tui đã gây hiểu lầm nhe, xin hiểu là: <strong>&ldquo;Tui mong có một vợ
và ba con&rdquo; (có nhiều con hơn cũng được)</strong>, chứ đừng hiểu ngược thành <em>&ldquo;Ba con
vợ&rdquo;</em>, tội nghiệp cho tui lắm.</p>
]]></content>
  </entry>
  
</feed>
